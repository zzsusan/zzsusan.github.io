<html>
  <head>
    <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
    <title>This is my example homepage.</title>
  </head>
  <body>
    <p>This is some text.</p>
    <p>This is some more text.</p>
    <div id="myviz"></div>
  </body>
  <script>
    mySpec = {
      $schema: "https://vega.github.io/schema/vega-lite/v4.json",
      data: { url: "building_inventory.csv" },
      mark: "bar",
      transform: [
        {
          filter: [
            { field: "Congress Dist", valid: true },
            { field: "Square Footage", valid: true },
            { field: "Congressional Full Name", valid: true }
          ]
        },
        {
          aggregate: [
            {
              op: "sum",
              field: "Congress Dist",
              as: "Total Congress Dist"
            },
            {
              groupby: ["Congressional Full Name"]
            }
          ]
        }
      ],
      encoding: {
        x: {
          field: "Congressional Full Name",
          type: "nominal"
        },
        y: {
          filed: "Total Congress Dist",
          type: "quantitative"
        }
      }
    };
    vegaEmbed("#myviz", mySpec);
  </script>
</html>
